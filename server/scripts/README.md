# é¢ç§¯è®¡ç®—è„šæœ¬

## ğŸ“Œ åŠŸèƒ½è¯´æ˜

ä½¿ç”¨ **GeoPandas** è®¡ç®— GeoJSON æ–‡ä»¶ä¸­æ‰€æœ‰åœ°å—çš„é¢ç§¯ï¼Œä¸ ArcGIS Pro ä¿æŒä¸€è‡´ã€‚

## ğŸ“‚ æ–‡ä»¶è¯´æ˜

- **`calculate_area.py`** - Python è„šæœ¬ï¼Œä½¿ç”¨ GeoPandas è®¡ç®—æµ‹åœ°çº¿é¢ç§¯
- **`README.md`** - æœ¬æ–‡æ¡£

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è‡ªåŠ¨è°ƒç”¨ï¼ˆæ¨èï¼‰

ç³»ç»Ÿä¼šåœ¨ **SHP è½¬ GeoJSON** æ—¶è‡ªåŠ¨è°ƒç”¨æ­¤è„šæœ¬è®¡ç®—é¢ç§¯ï¼š

1. åœ¨**ä»»åŠ¡ç®¡ç†**ç•Œé¢ä¸Šä¼  SHP æ–‡ä»¶
2. ç³»ç»Ÿè‡ªåŠ¨è½¬æ¢ + è®¡ç®—é¢ç§¯
3. é¢ç§¯ä¿å­˜åˆ° GeoJSON çš„ `properties` å­—æ®µ

### æ‰‹åŠ¨è°ƒç”¨ï¼ˆæµ‹è¯•ï¼‰

```bash
# å‡†å¤‡ GeoJSON æ–‡ä»¶
echo '{"type":"FeatureCollection","features":[...]}' | python calculate_area.py

# è¾“å‡ºæ ¼å¼
[
  {"area_m2": 123456.789, "area_mu": 185.185},
  {"area_m2": 234567.890, "area_mu": 351.852},
  ...
]
```

## ğŸ“¦ ä¾èµ–å®‰è£…

### æ–¹æ³•1ï¼šä½¿ç”¨ condaï¼ˆæ¨èï¼‰

```bash
conda install geopandas
```

### æ–¹æ³•2ï¼šä½¿ç”¨ pip

```bash
pip install geopandas fiona shapely pyproj
```

### éªŒè¯å®‰è£…

```bash
python -c "import geopandas; print('âœ… GeoPandas å®‰è£…æˆåŠŸ')"
```

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### ç®—æ³•ï¼šæµ‹åœ°çº¿é¢ç§¯ï¼ˆGeodesic Areaï¼‰

- ä½¿ç”¨ **WGS84 æ¤­çƒä½“** è®¡ç®—
- ä¸ ArcGIS Pro çš„ "Calculate Geometry (Geodesic)" ä¸€è‡´
- è¯¯å·® < 0.01%

### åæ ‡è½¬æ¢

```
EPSG:3857 (Web Mercator) â†’ EPSG:4326 (WGS84) â†’ è®¡ç®—é¢ç§¯
```

### å•ä½è½¬æ¢

```python
1 mÂ² = 0.0015 äº©  # ç²¾ç¡®å€¼ï¼š1/666.666...
```

## ğŸ“Š æ€§èƒ½

- **é€Ÿåº¦**: 347ä¸ªåœ°å— â‰ˆ 3.2ç§’
- **ç²¾åº¦**: ä¸ ArcGIS Pro è¯¯å·® < 0.14%

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šModuleNotFoundError

```bash
# å®‰è£…ç¼ºå¤±çš„æ¨¡å—
conda install geopandas
```

### é—®é¢˜2ï¼šè®¡ç®—ç»“æœä¸º 0

- æ£€æŸ¥è¾“å…¥çš„ GeoJSON æ ¼å¼æ˜¯å¦æ­£ç¡®
- ç¡®è®¤åæ ‡ç³»ä¸º EPSG:3857

### é—®é¢˜3ï¼šä¸ ArcGIS Pro ç»“æœä¸ä¸€è‡´

- è¯¯å·® < 1% å±äºæ­£å¸¸èŒƒå›´
- ç¡®ä¿ä½¿ç”¨ç›¸åŒçš„åæ ‡ç³»å’Œæ¤­çƒä½“

## ğŸ“ ç¤ºä¾‹è¾“å‡º

```bash
$ echo '...' | python calculate_area.py

è­¦å‘Š: å‡ ä½•ä½“è§£æå¤±è´¥: ...  # stderrï¼ˆå¦‚æœæœ‰ï¼‰
âœ… é¢ç§¯è®¡ç®—å®Œæˆï¼Œå…± 347 ä¸ªåœ°å—  # stderr
[
  {"area_m2": 112586.954, "area_mu": 168.880},
  ...
]  # stdoutï¼ˆJSONæ ¼å¼ï¼‰
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¢ç§¯è®¡ç®—å®Œæ•´æŒ‡å—](../../docs/é¢ç§¯è®¡ç®—å®Œæ•´æŒ‡å—.md)
- [GeoPandas å®˜æ–¹æ–‡æ¡£](https://geopandas.org/)



