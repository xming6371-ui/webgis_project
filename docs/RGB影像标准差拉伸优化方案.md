# RGBå½±åƒæ ‡å‡†å·®æ‹‰ä¼¸ä¼˜åŒ–æ–¹æ¡ˆï¼ˆæœ€ç»ˆç‰ˆï¼‰

## é—®é¢˜åˆ†æ

### ä¹‹å‰å°è¯•çš„æ–¹æ¡ˆ

1. **ç»Ÿä¸€èŒƒå›´æ‹‰ä¼¸**ï¼ˆç¬¬ä¸€ç‰ˆï¼‰
   - âŒ é—®é¢˜ï¼šæ‰€æœ‰æ³¢æ®µä½¿ç”¨åŒä¸€ä¸ªmin/maxï¼Œå¯¼è‡´æŸäº›æ³¢æ®µè¢«å‹ç¼©ï¼Œä¸¢å¤±å¤§é‡ç»†èŠ‚
   - ç¤ºä¾‹ï¼šBand 1åªç”¨äº†59ä¸ªç°åº¦çº§ï¼ˆä¸¢å¤±76%ç»†èŠ‚ï¼‰

2. **ç‹¬ç«‹æ³¢æ®µæ‹‰ä¼¸**ï¼ˆç¬¬äºŒç‰ˆï¼‰
   - âš ï¸ é—®é¢˜ï¼šè™½ç„¶ä¿ç•™äº†ç»†èŠ‚ï¼Œä½†ç ´åäº†RGBçš„è‰²å½©å¹³è¡¡
   - ç¤ºä¾‹ï¼šå„æ³¢æ®µç‹¬ç«‹æ‹‰ä¼¸åï¼Œè‰²å½©å¤±çœŸä¸¥é‡

### æœ€ç»ˆæ–¹æ¡ˆï¼šæ ‡å‡†å·®æ‹‰ä¼¸ï¼ˆStddev Stretchï¼‰

è¿™æ˜¯**é¥æ„Ÿå›¾åƒå¤„ç†çš„æ ‡å‡†æ–¹æ³•**ï¼Œè¢«å¹¿æ³›åº”ç”¨äºï¼š
- ENVIã€ERDASã€ArcGISç­‰ä¸“ä¸šé¥æ„Ÿè½¯ä»¶
- Google Earth Engine
- ç§‘ç ”è®ºæ–‡ä¸­çš„å½±åƒå±•ç¤º

## æ ¸å¿ƒåŸç†

### æ ‡å‡†å·®æ‹‰ä¼¸å…¬å¼

```
æ‹‰ä¼¸èŒƒå›´ = [Mean - 2Ã—StdDev, Mean + 2Ã—StdDev]
```

### ä¸ºä»€ä¹ˆæ˜¯ Mean Â± 2Ïƒï¼Ÿ

æ ¹æ®**æ­£æ€åˆ†å¸ƒ**ï¼ˆé«˜æ–¯åˆ†å¸ƒï¼‰åŸç†ï¼š
- **68.3%** çš„æ•°æ®è½åœ¨ Mean Â± 1Ïƒ èŒƒå›´å†…
- **95.4%** çš„æ•°æ®è½åœ¨ Mean Â± 2Ïƒ èŒƒå›´å†…  âœ… **æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ª**
- **99.7%** çš„æ•°æ®è½åœ¨ Mean Â± 3Ïƒ èŒƒå›´å†…

é€‰æ‹© **Mean Â± 2Ïƒ** çš„åŸå› ï¼š
1. âœ… ä¿ç•™ **95.4%** çš„æœ‰æ•ˆæ•°æ®
2. âœ… è‡ªåŠ¨å»é™¤ **4.6%** çš„å¼‚å¸¸å€¼ï¼ˆæäº®å’Œææš—çš„åƒç´ ï¼‰
3. âœ… å„æ³¢æ®µç‹¬ç«‹è®¡ç®—ï¼Œä¿ç•™ç»†èŠ‚
4. âœ… åŸºäºç»Ÿè®¡åˆ†å¸ƒï¼Œä¿æŒè‰²å½©ç›¸å¯¹å¼ºåº¦

## æŠ€æœ¯å®ç°

### æ­¥éª¤1ï¼šè¯»å–ç»Ÿè®¡ä¿¡æ¯

```bash
gdalinfo -stats input.tif

# è¾“å‡ºç¤ºä¾‹ï¼š
Band 1 Block=512x512 Type=Float32, ColorInterp=Red
  Minimum=0.001, Maximum=0.856, Mean=0.234, StdDev=0.156

Band 2 Block=512x512 Type=Float32, ColorInterp=Green
  Minimum=0.002, Maximum=0.923, Mean=0.312, StdDev=0.189

Band 3 Block=512x512 Type=Float32, ColorInterp=Blue
  Minimum=0.000, Maximum=0.795, Mean=0.198, StdDev=0.142
```

### æ­¥éª¤2ï¼šè®¡ç®—æ‹‰ä¼¸èŒƒå›´ï¼ˆæ¯ä¸ªæ³¢æ®µç‹¬ç«‹ï¼‰

```javascript
// Band 1 (çº¢)
stretchMin_1 = Mean_1 - 2 Ã— StdDev_1 = 0.234 - 2Ã—0.156 = -0.078 â†’ 0.001 (ä¸ä½äºå®é™…æœ€å°å€¼)
stretchMax_1 = Mean_1 + 2 Ã— StdDev_1 = 0.234 + 2Ã—0.156 = 0.546

// Band 2 (ç»¿)
stretchMin_2 = Mean_2 - 2 Ã— StdDev_2 = 0.312 - 2Ã—0.189 = -0.066 â†’ 0.002
stretchMax_2 = Mean_2 + 2 Ã— StdDev_2 = 0.312 + 2Ã—0.189 = 0.690

// Band 3 (è“)
stretchMin_3 = Mean_3 - 2 Ã— StdDev_3 = 0.198 - 2Ã—0.142 = -0.086 â†’ 0.000
stretchMax_3 = Mean_3 + 2 Ã— StdDev_3 = 0.198 + 2Ã—0.142 = 0.482
```

### æ­¥éª¤3ï¼šåº”ç”¨æ‹‰ä¼¸ï¼ˆè½¬æ¢ä¸ºByteï¼‰

```bash
gdal_translate -ot Byte \
  -scale_1 0.001 0.546 0 255 \  # Band 1ç‹¬ç«‹æ‹‰ä¼¸
  -scale_2 0.002 0.690 0 255 \  # Band 2ç‹¬ç«‹æ‹‰ä¼¸
  -scale_3 0.000 0.482 0 255 \  # Band 3ç‹¬ç«‹æ‹‰ä¼¸
  -a_nodata 0 \                 # NoDataé€æ˜
  -of GTiff input.tif output.tif
```

## ä¼˜åŠ¿åˆ†æ

### ä¸å…¶ä»–æ–¹æ³•å¯¹æ¯”

| æ–¹æ³• | ç»†èŠ‚ä¿ç•™ | è‰²å½©å¹³è¡¡ | å¼‚å¸¸å€¼å¤„ç† | é€‚ç”¨åœºæ™¯ |
|------|---------|---------|-----------|---------|
| **Min-Maxæ‹‰ä¼¸** | âŒ å·® | âœ… å¥½ | âŒ å·® | å¼‚å¸¸å€¼å°‘æ—¶ |
| **ç»Ÿä¸€èŒƒå›´æ‹‰ä¼¸** | âŒ å·® | âœ… å¥½ | âŒ å·® | å„æ³¢æ®µèŒƒå›´ç›¸è¿‘æ—¶ |
| **ç‹¬ç«‹æ³¢æ®µæ‹‰ä¼¸** | âœ… ä¼˜ | âŒ å·® | âœ… å¥½ | ä¸å…³å¿ƒè‰²å½©æ—¶ |
| **æ ‡å‡†å·®æ‹‰ä¼¸** | âœ… ä¼˜ | âœ… å¥½ | âœ… ä¼˜ | **æ‰€æœ‰åœºæ™¯ï¼ˆæ¨èï¼‰** |

### å…·ä½“ä¼˜åŠ¿

1. **è‡ªé€‚åº”å¼‚å¸¸å€¼å¤„ç†**
   - è‡ªåŠ¨è¯†åˆ«å¹¶æ’é™¤å¼‚å¸¸é«˜/ä½å€¼
   - ä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®ç™¾åˆ†ä½æ•°
   - åŸºäºç»Ÿè®¡åˆ†å¸ƒï¼Œæ›´ç§‘å­¦

2. **ä¿æŒè‰²å½©å¹³è¡¡**
   - è™½ç„¶å„æ³¢æ®µç‹¬ç«‹è®¡ç®—ï¼Œä½†åŸºäºå„è‡ªçš„ç»Ÿè®¡åˆ†å¸ƒ
   - ä¿æŒäº†å„æ³¢æ®µçš„ç›¸å¯¹å¼ºåº¦å…³ç³»
   - è‰²å½©æ›´åŠ è‡ªç„¶

3. **ç»†èŠ‚å®Œæ•´ä¿ç•™**
   - æ¯ä¸ªæ³¢æ®µéƒ½å……åˆ†åˆ©ç”¨0-255èŒƒå›´
   - 95.4%çš„æœ‰æ•ˆæ•°æ®éƒ½è¢«ä¿ç•™
   - ä¸ä¼šå› ä¸ºå¼‚å¸¸å€¼å‹ç¼©åŠ¨æ€èŒƒå›´

4. **é€‚ç”¨æ€§å¹¿**
   - é€‚ç”¨äºåå°„ç‡æ•°æ®ï¼ˆ0-1ï¼‰
   - é€‚ç”¨äºDNå€¼æ•°æ®ï¼ˆ0-255ï¼‰
   - é€‚ç”¨äº16ä½æ•°æ®ï¼ˆ0-65535ï¼‰
   - é€‚ç”¨äºæµ®ç‚¹æ•°æ®

## å®é™…æ•ˆæœç¤ºä¾‹

### åœºæ™¯1ï¼šåå°„ç‡æ•°æ®ï¼ˆ0-1èŒƒå›´ï¼‰

```
åŸå§‹ç»Ÿè®¡ï¼š
  Band 1: Mean=0.234, StdDev=0.156
  Band 2: Mean=0.312, StdDev=0.189
  Band 3: Mean=0.198, StdDev=0.142

æ‹‰ä¼¸èŒƒå›´ï¼š
  Band 1: [0.001, 0.546] â†’ [0, 255]
  Band 2: [0.002, 0.690] â†’ [0, 255]
  Band 3: [0.000, 0.482] â†’ [0, 255]

ç»“æœï¼š
  âœ… å»é™¤äº†å¼‚å¸¸é«˜å€¼ï¼ˆå¦‚äº‘ã€æ°´ä½“åå…‰ï¼‰
  âœ… å»é™¤äº†å¼‚å¸¸ä½å€¼ï¼ˆå¦‚é˜´å½±ï¼‰
  âœ… ä¿ç•™äº†95.4%çš„åœ°ç‰©ä¿¡æ¯
  âœ… è‰²å½©è‡ªç„¶ï¼Œå¯¹æ¯”åº¦å¥½
```

### åœºæ™¯2ï¼š16ä½DNå€¼æ•°æ®

```
åŸå§‹ç»Ÿè®¡ï¼š
  Band 1: Mean=1250, StdDev=850
  Band 2: Mean=1680, StdDev=920
  Band 3: Mean=980, StdDev=720

æ‹‰ä¼¸èŒƒå›´ï¼š
  Band 1: [0, 2950] â†’ [0, 255]     (è€Œä¸æ˜¯0-65535)
  Band 2: [0, 3520] â†’ [0, 255]
  Band 3: [0, 2420] â†’ [0, 255]

ç»“æœï¼š
  âœ… é¿å…äº†æ•´ä¸ª16ä½èŒƒå›´çš„æ‹‰ä¼¸ï¼ˆé‚£ä¼šå¯¼è‡´å›¾åƒè¿‡æš—ï¼‰
  âœ… èšç„¦åœ¨æœ‰æ•ˆæ•°æ®èŒƒå›´
  âœ… å¯¹æ¯”åº¦æ˜¾è‘—æå‡
```

## ä»£ç å®ç°è¦ç‚¹

### å…³é”®å‡½æ•°

```javascript
// è®¡ç®—æ ‡å‡†å·®æ‹‰ä¼¸èŒƒå›´
const calcStddevStretch = (stat) => {
  let stretchMin = stat.mean - 2 * stat.stddev
  let stretchMax = stat.mean + 2 * stat.stddev
  
  // ç¡®ä¿ä¸è¶…å‡ºå®é™…èŒƒå›´
  stretchMin = Math.max(stretchMin, stat.min)
  stretchMax = Math.min(stretchMax, stat.max)
  
  // å¦‚æœæœ‰NoDataï¼ˆå€¼ä¸º0ï¼‰ï¼Œç¡®ä¿æ‹‰ä¼¸èŒƒå›´ä¸åŒ…å«0
  if (hasNoData && stretchMin <= 0) {
    stretchMin = 1
  }
  
  return { stretchMin, stretchMax }
}

// ä¸ºæ¯ä¸ªæ³¢æ®µç‹¬ç«‹è®¡ç®—
const b1Stretch = calcStddevStretch(band1)
const b2Stretch = calcStddevStretch(band2)
const b3Stretch = calcStddevStretch(band3)
```

### GDALå‘½ä»¤

```bash
gdal_translate -ot Byte \
  -scale_1 ${b1Min} ${b1Max} 0 255 \
  -scale_2 ${b2Min} ${b2Max} 0 255 \
  -scale_3 ${b3Min} ${b3Max} 0 255 \
  -a_nodata 0 -of GTiff input.tif output.tif
```

## éªŒè¯æ–¹æ³•

### åç«¯æ—¥å¿—æ£€æŸ¥

ä¼˜åŒ–æ—¶æŸ¥çœ‹åç«¯è¾“å‡ºï¼š

```
âœ… ç­–ç•¥ï¼šæ ‡å‡†å·®æ‹‰ä¼¸ï¼ˆMean Â± 2*StdDevï¼‰+ ä¿ç•™NoData + ä¿æŒè‰²å½©å¹³è¡¡

ğŸ“Š è¯»å–å½±åƒç»Ÿè®¡ä¿¡æ¯ï¼ˆMin, Max, Mean, StdDevï¼‰...
   æ£€æµ‹åˆ°å„æ³¢æ®µå®Œæ•´ç»Ÿè®¡ä¿¡æ¯:
   Band 1 (çº¢): Mean=0.2340, StdDev=0.1560, Range=[0.0010, 0.8560]
   Band 2 (ç»¿): Mean=0.3120, StdDev=0.1890, Range=[0.0020, 0.9230]
   Band 3 (è“): Mean=0.1980, StdDev=0.1420, Range=[0.0000, 0.7950]

ğŸ¯ æ ‡å‡†å·®æ‹‰ä¼¸èŒƒå›´ï¼ˆMean Â± 2*StdDevï¼‰:
   Band 1: 0.0010 ~ 0.5460 â†’ 0 ~ 255
   Band 2: 0.0020 ~ 0.6900 â†’ 0 ~ 255
   Band 3: 0.0000 ~ 0.4820 â†’ 0 ~ 255
   ğŸ“– è¯´æ˜ï¼šæ­¤æ–¹æ³•å»é™¤çº¦5%çš„å¼‚å¸¸å€¼ï¼ŒåŒæ—¶ä¿æŒå„æ³¢æ®µçš„ç›¸å¯¹å¼ºåº¦

âœ… æ ‡å‡†å·®æ‹‰ä¼¸ï¼ˆMean Â± 2Ïƒï¼Œé¥æ„Ÿæ ‡å‡†æ–¹æ³•ï¼‰
âœ… è‡ªåŠ¨å»é™¤çº¦5%å¼‚å¸¸å€¼ï¼Œä¿ç•™95%æœ‰æ•ˆæ•°æ®
âœ… å„æ³¢æ®µä¿æŒç›¸å¯¹å¼ºåº¦ï¼Œè‰²å½©æ›´è‡ªç„¶
âœ… ä¿ç•™NoDataå€¼ï¼ˆèƒŒæ™¯é€æ˜ï¼‰
```

### ä¼˜åŒ–ç»“æœæ£€æŸ¥

```bash
# æ£€æŸ¥ä¼˜åŒ–åçš„ç»Ÿè®¡ä¿¡æ¯
gdalinfo -stats optimized.tif

# æœŸæœ›çœ‹åˆ°ï¼š
Band 1: Mean=100-150, StdDev=50-80  âœ… å……åˆ†åˆ©ç”¨0-255
Band 2: Mean=100-150, StdDev=50-80  âœ… å……åˆ†åˆ©ç”¨0-255
Band 3: Mean=100-150, StdDev=50-80  âœ… å……åˆ†åˆ©ç”¨0-255
```

## ç†è®ºåŸºç¡€

### ä¸ºä»€ä¹ˆé€‰æ‹©æ ‡å‡†å·®è€Œä¸æ˜¯ç™¾åˆ†ä½ï¼Ÿ

| æ–¹æ³• | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|
| **ç™¾åˆ†ä½ï¼ˆå¦‚2%-98%ï¼‰** | ç²¾ç¡®æ§åˆ¶è£å‰ªæ¯”ä¾‹ | éœ€è¦è¯»å–å…¨éƒ¨åƒç´ ï¼Œé€Ÿåº¦æ…¢ |
| **æ ‡å‡†å·®ï¼ˆMean Â± 2Ïƒï¼‰** | åªéœ€ç»Ÿè®¡ä¿¡æ¯ï¼Œé€Ÿåº¦å¿« | å‡è®¾æ­£æ€åˆ†å¸ƒ |

å¯¹äºé¥æ„Ÿå½±åƒï¼š
- âœ… å¤§å¤šæ•°åœ°ç‰©çš„åå°„ç‡**è¿‘ä¼¼æ­£æ€åˆ†å¸ƒ**
- âœ… GDALå¯å¿«é€Ÿè®¡ç®—ç»Ÿè®¡ä¿¡æ¯ï¼ˆä¸éœ€è¦è¯»å–å…¨éƒ¨åƒç´ ï¼‰
- âœ… æ ‡å‡†å·®æ–¹æ³•è¢«å¹¿æ³›éªŒè¯å’Œåº”ç”¨

### æ­£æ€åˆ†å¸ƒéªŒè¯

é¥æ„Ÿå½±åƒçš„åƒç´ å€¼åˆ†å¸ƒé€šå¸¸æ¥è¿‘æ­£æ€åˆ†å¸ƒï¼š

```
        |
        |    ___
        |   /   \
        |  /     \
        | /       \
        |/         \___
        +---------------
      -2Ïƒ  Mean  +2Ïƒ
      
      95.4%çš„æ•°æ®åœ¨æ­¤èŒƒå›´å†…
```

## ä¸ä¸“ä¸šè½¯ä»¶å¯¹æ¯”

### ENVI

ENVIçš„"2% Linear Stretch"é€‰é¡¹ï¼š
- ä½¿ç”¨ **2%-98%ç™¾åˆ†ä½æ‹‰ä¼¸**
- æ•ˆæœä¸ **Mean Â± 2Ïƒ** ç›¸è¿‘ï¼ˆå‡è®¾æ­£æ€åˆ†å¸ƒæ—¶ï¼‰

### ArcGIS

ArcGISçš„"Stretch"åŠŸèƒ½é»˜è®¤é€‰é¡¹ï¼š
- **Standard Deviation** (æ ‡å‡†å·®æ‹‰ä¼¸)
- é»˜è®¤ä½¿ç”¨ **n=2** (Mean Â± 2Ïƒ)

### Google Earth Engine

```javascript
// GEEä¸­çš„å¯è§†åŒ–å‚æ•°
var visParams = {
  min: mean - 2 * stdDev,
  max: mean + 2 * stdDev
};
```

## æ€»ç»“

### æ ‡å‡†å·®æ‹‰ä¼¸çš„æ ¸å¿ƒä»·å€¼

1. **ç§‘å­¦æ€§** - åŸºäºç»Ÿè®¡å­¦åŸç†ï¼ˆæ­£æ€åˆ†å¸ƒï¼‰
2. **å®ç”¨æ€§** - é¥æ„Ÿå›¾åƒå¤„ç†çš„è¡Œä¸šæ ‡å‡†
3. **é«˜æ•ˆæ€§** - åªéœ€ç»Ÿè®¡ä¿¡æ¯ï¼Œä¸éœ€è¯»å–å…¨éƒ¨åƒç´ 
4. **è‡ªé€‚åº”æ€§** - è‡ªåŠ¨é€‚åº”å„ç§æ•°æ®èŒƒå›´å’Œåˆ†å¸ƒ
5. **å¹³è¡¡æ€§** - å…¼é¡¾ç»†èŠ‚ä¿ç•™å’Œè‰²å½©å¹³è¡¡

### é€‚ç”¨åœºæ™¯

- âœ… **æ‰€æœ‰RGBå½±åƒçš„ä¼˜åŒ–**ï¼ˆæ¨èä½œä¸ºé»˜è®¤æ–¹æ³•ï¼‰
- âœ… **åå°„ç‡æ•°æ®**ï¼ˆå¦‚Landsatã€Sentinel-2ï¼‰
- âœ… **DNå€¼æ•°æ®**ï¼ˆå¦‚æ— äººæœºå½±åƒï¼‰
- âœ… **é«˜ä½æ·±æ•°æ®**ï¼ˆå¦‚16ä½TIFï¼‰
- âœ… **æœ‰å¼‚å¸¸å€¼çš„æ•°æ®**ï¼ˆå¦‚äº‘ã€æ°´ä½“åå…‰ï¼‰

### ä¸é€‚ç”¨åœºæ™¯

- âŒ åƒç´ å€¼åˆ†å¸ƒä¸¥é‡åæ€ï¼ˆéæ­£æ€åˆ†å¸ƒï¼‰
- âŒ éœ€è¦ä¿æŒç»å¯¹è¾å°„å€¼çš„ç§‘å­¦åˆ†æ

---

**æ–¹æ³•æ¥æº**: é¥æ„Ÿå›¾åƒå¤„ç†æ ‡å‡†æ–¹æ³•  
**é€‚ç”¨è½¯ä»¶**: ENVI, ERDAS, ArcGIS, QGIS, GEE  
**ç†è®ºåŸºç¡€**: æ­£æ€åˆ†å¸ƒç»Ÿè®¡å­¦  
**æ¨èæŒ‡æ•°**: â­â­â­â­â­

